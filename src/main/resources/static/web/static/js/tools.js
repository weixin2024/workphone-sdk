(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tools"],{"2d17":function(e,t,a){"use strict";var s=a("626c"),n=a.n(s);n.a},"3d0b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"qr-code"},[a("el-image",{staticClass:"qr-code-img",attrs:{src:e.qrCode["QrCodeUrl"],fit:"cover"}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"100px"}})])]),e.qrCode.ModifyTime?a("el-row",{staticClass:"created-time",staticStyle:{},attrs:{type:"flex",justify:"center",align:"middle"},domProps:{textContent:e._s(e.$options.filters.timeFilter(e.qrCode["ModifyTime"]))}}):e._e()],1)},n=[],i={name:"ToolsQrCode",data:function(){return{qrCode:this.$store.getters["nedb/qrCode"]}}},r=i,l=(a("5cf2"),a("2877")),o=Object(l["a"])(r,s,n,!1,null,"d0c4bda0",null);t["default"]=o.exports},"3f1e":function(e,t,a){"use strict";var s=a("7c18"),n=a.n(s);n.a},"40e8":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"phone-management scroll"},[a("el-button",{staticClass:"el-button-my",attrs:{type:"success",icon:"el-icon-switch-button"},on:{click:function(t){return e.managerPhone(1)}}},[e._v("手机重启")]),a("el-button",{staticClass:"el-button-my",attrs:{type:"success",icon:"el-icon-upload"},on:{click:function(t){return e.managerPhone(2)}}},[e._v("上传日志")]),a("el-button",{staticClass:"el-button-my",attrs:{type:"success",icon:"el-icon-delete"},on:{click:function(t){return e.managerPhone(5)}}},[e._v("清除视频缓存")])],1)},n=[],i=(a("b0c0"),a("b85c")),r={name:"ToolsPhoneManagement",data:function(){return{wechats:this.$store.getters["conversation/wechats"]}},methods:{managerPhone:function(e){var t=this,a=this.$store.getters["currentNavs"],s=this.$store.getters["currentWechats"],n=s[a[this.$route.name]];if(n){var r,l={wechatId:n,action:e},o=n,c=Object(i["a"])(this.wechats);try{for(c.s();!(r=c.n()).done;){var u=r.value;u.WeChatId===n&&(o=u.WeChatNick)}}catch(h){c.e(h)}finally{c.f()}var d={1:"微信：".concat(o,"，即将关机？"),2:"上传 微信：".concat(o," 的日志？"),5:"清除微信：".concat(o," 的视频缓存？")};this.$confirm(d[e],"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$store.dispatch("websocket/PhoneActionTask",l),t.$message({type:"success",message:"指令已经执行!"})})).catch((function(){t.$message({type:"info",message:"已取消"})}))}else this.$message({message:"请先选择一个微信",type:"warning"})}}},l=r,o=(a("82f5"),a("2877")),c=Object(o["a"])(l,s,n,!1,null,"070db4f9",null);t["default"]=c.exports},4722:function(e,t,a){},"48fc":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-friend-auto"},[a("div",{staticClass:"uplode-number"},[a("span",{staticClass:"tip"},[e._v("选择号码")]),a("input",{staticClass:"tip",attrs:{type:"file",accept:"text/plain"},on:{change:function(t){return e.openFile(t)}}}),a("span",{staticClass:"tip"},[e._v(e._s(e.phones.length)+"个号码")]),a("el-radio",{attrs:{label:"auto"},model:{value:e.autoDistribution,callback:function(t){e.autoDistribution=t},expression:"autoDistribution"}},[e._v("自动分配")]),a("el-radio",{attrs:{label:"manual"},model:{value:e.autoDistribution,callback:function(t){e.autoDistribution=t},expression:"autoDistribution"}},[e._v("手动分配")])],1),a("div",{staticClass:"add-friend-auto-config"},[a("el-table",{attrs:{data:e.wechatsLogin,height:"100%",border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"WeChatNo",label:"微信号"}}),a("el-table-column",{attrs:{fixed:"",prop:"WeChatNick",label:"微信昵称"}}),a("el-table-column",{attrs:{fixed:"",prop:"Avatar",label:"头像",width:"60"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-avatar",{attrs:{size:40,src:e.row.Avatar},on:{error:function(e){return!0}}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])]}}])}),a("el-table-column",{attrs:{prop:"Province",label:"省份"}}),a("el-table-column",{attrs:{prop:"City",label:"市区"}}),a("el-table-column",{attrs:{label:"添加数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{attrs:{size:"small",min:0,step:1,"step-strictly":"",disabled:"auto"===e.autoDistribution},model:{value:e.numberMap[t.row.WeChatId],callback:function(a){e.$set(e.numberMap,t.row.WeChatId,a)},expression:"numberMap[scope.row.WeChatId]"}})]}}])})],1)],1),a("div",{staticClass:"add-friend-auto-oprations"},[a("div",{staticClass:"break-time"},[a("span",{staticClass:"tip"},[e._v("添加限制")]),a("el-input-number",{staticStyle:{margin:"0 5px"},attrs:{size:"small","controls-position":"right",min:1,max:100},model:{value:e.limitNumber,callback:function(t){e.limitNumber=t},expression:"limitNumber"}})],1),a("div",{staticClass:"break-time"},[a("span",{staticClass:"tip"},[e._v("时间间隔（分）")]),a("el-input-number",{staticStyle:{margin:"0 5px"},attrs:{size:"small","controls-position":"right",min:1,max:59},model:{value:e.breakTime,callback:function(t){e.breakTime=t},expression:"breakTime"}})],1),a("div",{staticClass:"start-time"},[a("span",{staticClass:"tip"},[e._v("起始时间")]),a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",clearable:"",size:"small"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1),a("el-button",{attrs:{size:"small",type:"primary",disabled:e.sending,loading:e.sending},on:{click:e.sureSend}},[e._v("创建任务")]),a("el-button",{attrs:{size:"small",type:"info"},on:{click:e.showTaskDialog}},[e._v("任务日志")])],1),a("el-dialog",{staticClass:"add-friend-auto-dialog",attrs:{title:"批量加好友日志",visible:e.taskLogVisiable},on:{"update:visible":function(t){e.taskLogVisiable=t}}},[a("el-table",{attrs:{data:e.logs[e.currentPage-1],stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60px"}}),a("el-table-column",{attrs:{label:"微信昵称",width:"170px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.wechatid&&e.wechatsMap[t.row.wechatid]?a("span",{domProps:{textContent:e._s(e.wechatsMap[t.row.wechatid].WeChatNick)}}):a("span",[e._v(e._s(t.row.wechatid))])]}}])}),a("el-table-column",{attrs:{label:"执行次数"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.doingsize))]}}])}),a("el-table-column",{attrs:{label:"成功次数"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#67c23a"},domProps:{textContent:e._s(t.row.successsize||"")}})]}}])}),a("el-table-column",{attrs:{label:"失败次数"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.doingsize&&t.row.successsize?a("span",{staticStyle:{color:"red"},domProps:{textContent:e._s(t.row.doingsize-t.row.successsize)}}):e._e()]}}])}),a("el-table-column",{attrs:{label:"总次数"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.totalsize))]}}])}),a("el-table-column",{attrs:{label:"任务结果"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(0===t.row.state?"已结束":"进行中")}})]}}])}),a("el-table-column",{attrs:{prop:"execute_time",label:"下次执行时间",width:"150px"}})],1),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[15,30,45,60],"page-size":e.pageSize,"pager-count":5,layout:"total, sizes, prev, pager, next, jumper",total:e.autoAddFriendLog.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},n=[],i=(a("99af"),a("4160"),a("fb6a"),a("ac1f"),a("1276"),a("159b"),a("5530")),r=a("2f62"),l={name:"ToolsAddFriendAuto",data:function(){return{phones:[],autoDistribution:"auto",startTime:(new Date).getTime(),limitNumber:15,breakTime:1,numberMap:{},taskLogVisiable:!1,sending:!1,pageSize:15,currentPage:1}},computed:Object(i["a"])(Object(i["a"])({},Object(r["b"])({wechats:"conversation/wechats",wechatsLogin:"conversation/wechatsLogin",autoAddFriendLog:"nedb/autoAddFriendLog"})),{},{wechatsMap:function(){var e={};return this.wechats.forEach((function(t){e[t.WeChatId]=t})),e},logs:function(){for(var e=[],t=this.pageSize,a=0;a<this.autoAddFriendLog.length;a+=t)e.push(this.autoAddFriendLog.slice(a,a+t));return e},testWechats:function(){for(var e=[],t=0;t<10;t++)e=e.concat(this.wechatsLogin);return e}}),watch:{autoDistribution:function(e){"auto"===e&&this.autoDispatch()}},methods:{handleSizeChange:function(e){this.pageSize!==e&&(this.pageSize=e)},handleCurrentChange:function(e){this.currentPage=e},openFile:function(e){var t=this,a=e.target.files[0],s=new FileReader;a?(s.readAsText(a),s.onload=function(e){var a=e.target.result;t.phones=a.split("\r\n"),t.phones.length>0&&"auto"===t.autoDistribution&&t.autoDispatch()}):this.phones=[]},autoDispatch:function(){var e=this,t=this.phones.length/this.wechatsLogin.length;this.wechatsLogin.forEach((function(a,s){s===e.wechatsLogin.length-1?e.$set(e.numberMap,a.WeChatId,Math.floor(t)):e.$set(e.numberMap,a.WeChatId,Math.round(t))}))},getMaxNumber:function(e){var t=0;for(var a in this.numberMap)if(this.numberMap.hasOwnProperty(a)&&a!==e){var s=this.numberMap[a];t+=s}var n=this.phones.length-t;return n>0?n:0},transformTime:function(e){var t=new Date(e),a=t.getFullYear()+"-",s=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",n=(t.getDate()<10?"0"+t.getDate():t.getDate())+" ",i=(t.getHours()<10?"0"+t.getHours():t.getHours())+":",r=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),l=a+s+n+i+r;return l},sureSend:function(){var e=this,t=[];for(var a in this.numberMap)this.numberMap.hasOwnProperty(a)&&t.push({wechatid:a,add_count:this.numberMap[a]});var s={accountid:this.$store.getters.currentUser.UnionId,execute_time:this.transformTime(this.startTime),between_time:this.breakTime,phones:this.phones,config:t,sayhellosize:this.limitNumber,message:""};console.log(s),this.$store.dispatch("websocket/AutoFriendAddTask",s),this.sending=!0,setTimeout((function(){e.sending=!1}),1e3)},showTaskDialog:function(){this.$store.dispatch("websocket/GetAutoFriendAddTaskList"),this.taskLogVisiable=!this.taskLogVisiable}},created:function(){var e=this;this.wechatsLogin.forEach((function(t){e.$set(e.numberMap,t.WeChatId,0)}))}},o=l,c=(a("3f1e"),a("2877")),u=Object(c["a"])(o,s,n,!1,null,"4ba0307c",null);t["default"]=u.exports},"4be2":function(e,t,a){},5463:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auto-hi"},[e._m(0),a("el-input",{staticClass:"auto-hi-content",attrs:{type:"textarea",placeholder:"请输入内容",autosize:{minRows:8,maxRows:8},maxlength:"500","show-word-limit":""},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}})],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"auto-hi-tip",attrs:{color:"#909399"}},[a("i",{staticClass:"el-icon-info"}),e._v(" 功能介绍：接受了别人的好友请求 或者 别人接受了你的好友申请之后，给对方发一段话！ ")])}],i=a("5530"),r=a("2f62"),l={name:"ToolsAutoHi",data:function(){return{searchInput:""}},watch:{searchInput:function(e){e!==this.config.Content&&this.debounceInput()},config:function(e){this.searchInput=e.Content}},computed:Object(i["a"])({},Object(r["b"])({config:"nedb/autoHiConfig"})),created:function(){this.debounceInput=this._.debounce(this.debounceInput,300),this.searchInput=this.config.Content},methods:{debounceInput:function(){var e={ContentType:"Text",Content:this.searchInput};this.$store.dispatch("nedb/UpdateOrAddAutoHiConfig",e)}}},o=l,c=(a("8799"),a("2877")),u=Object(c["a"])(o,s,n,!1,null,"5f098e68",null);t["default"]=u.exports},5969:function(e,t,a){"use strict";var s=a("4722"),n=a.n(s);n.a},"5cf2":function(e,t,a){"use strict";var s=a("cca2"),n=a.n(s);n.a},"626c":function(e,t,a){},6710:function(e,t,a){},"705d":function(e,t,a){},7835:function(e,t,a){},"7b27":function(e,t,a){"use strict";var s=a("c0a7"),n=a.n(s);n.a},"7c18":function(e,t,a){},"818d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"clear-fans"},[a("el-form",{ref:"form",staticClass:"el-form",attrs:{model:e.form,"label-width":"180px"}},[a("el-form-item",{attrs:{label:"检测到僵尸粉立即删除？"}},[a("el-switch",{model:{value:e.form.delete,callback:function(t){e.$set(e.form,"delete",t)},expression:"form.delete"}})],1),a("el-form-item",{staticClass:"check-circle",attrs:{label:"朋友圈检测？"}},[a("el-switch",{model:{value:e.form.circle,callback:function(t){e.$set(e.form,"circle",t)},expression:"form.circle"}}),a("el-input",{staticClass:"check-circle-input",attrs:{size:"mini",placeholder:"请设置检测时间",disabled:!e.form.circle,maxlength:"10","show-word-limit":""},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1),a("el-form-item",{staticClass:"el-form-btn"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.onSubmit(1)}}},[e._v("开始清理")]),a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(t){return e.onSubmit(2)}}},[e._v("停止清理")])],1)],1),a("el-table",{staticClass:"table-data",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"",height:"60"}},[a("el-table-column",{attrs:{label:"筛选好友个数",prop:"Count",width:"120px"}}),a("el-table-column",{attrs:{label:"删除好友个数",prop:"DelCount",width:"120px"}}),a("el-table-column",{attrs:{label:"跳过筛选个数",prop:"SkipCount",width:"120px"}}),a("el-table-column",{attrs:{label:"僵尸微信ID",prop:"Zombies"}}),a("el-table-column",{attrs:{label:"返回时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.$options.filters.timeFilter(t.row.RspTime))}})]}}])}),a("el-table-column",{attrs:{label:"IsFinished"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.TaskId?a("span",[e._v("true")]):a("span",[e._v("false")])]}}])})],1)],1)},n=[],i=(a("b0c0"),a("b85c")),r=a("5530"),l=a("2f62"),o={name:"ToolsClearFans",data:function(){return{form:{delete:!1,circle:!1,time:72}}},computed:Object(r["a"])({},Object(l["b"])({wechats:"conversation/wechats",tableData:"nedb/zombies"})),methods:{onSubmit:function(e){var t,a=this.$store.getters["currentNavs"],s=this.$store.getters["currentWechats"],n=s[a[this.$route.name]],r=n,l=Object(i["a"])(this.wechats);try{for(l.s();!(t=l.n()).done;){var o=t.value;o.WeChatId===n&&(r=o.WeChatNick)}}catch(c){l.e(c)}finally{l.f()}n?1===e?(this.form.wechatId=n,this.$store.dispatch("websocket/PostFriendDetectTask",this.form),this.$message({message:"微信：".concat(r,"，开始清理僵尸粉"),type:"success"})):this.$store.dispatch("websocket/PostStopFriendDetectTask",n):this.$message({message:"请先选择一个微信",type:"warning"})}}},c=o,u=(a("2d17"),a("2877")),d=Object(u["a"])(c,s,n,!1,null,"be550894",null);t["default"]=d.exports},"82f5":function(e,t,a){"use strict";var s=a("6710"),n=a.n(s);n.a},"853f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-phones"},[a("div",{staticClass:"set-parameters"},[a("el-input",{attrs:{placeholder:"请输入手机号码",maxlength:"20"},model:{value:e.phonenumber,callback:function(t){e.phonenumber=t},expression:"phonenumber"}},[a("template",{slot:"prepend"},[e._v("手机号码")])],2),a("el-input",{attrs:{placeholder:"请输入size",maxlength:"9"},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}},[a("template",{slot:"prepend"},[e._v("页面大小")])],2),a("el-input",{attrs:{placeholder:"请输入size",maxlength:"5"},model:{value:e.pageNo,callback:function(t){e.pageNo=t},expression:"pageNo"}},[a("template",{slot:"prepend"},[e._v("页面号码")])],2),a("el-row",{attrs:{type:"flex"}},[a("div",{staticClass:"time-tip"},[e._v("时间段")]),a("el-date-picker",{attrs:{type:"datetimerange","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["12:00:00"]},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),a("el-button",{attrs:{type:"primary"},on:{click:e.searchPhones}},[e._v("开始搜索")])],1),a("el-table",{staticClass:"table-data",staticStyle:{width:"100%"},attrs:{data:e.tableData[e.currentPage-1],stripe:"",border:"",height:"auto"}},[a("el-table-column",{attrs:{label:"id",prop:"id",width:"100px"}}),a("el-table-column",{attrs:{label:"微信号",prop:"wechatid",width:"170px"}}),a("el-table-column",{attrs:{label:"微信昵称",width:"170px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.wechatsMap[t.row.wechatid]?a("span",{domProps:{textContent:e._s(e.wechatsMap[t.row.wechatid].WeChatNick)}}):a("span",[e._v(e._s(t.row.wechatid))])]}}])}),a("el-table-column",{attrs:{label:"号码",prop:"phonenumber"}}),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.$options.filters.timeFilter(t.row.createTime))}})]}}])}),a("el-table-column",{attrs:{label:"号码是否有效"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.task_result?a("span",{staticStyle:{color:"#67c23a"}},[e._v("有效")]):1===t.row.task_result?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("无效")]):a("span",{staticStyle:{color:"#909399"}},[e._v("未知")])]}}])}),a("el-table-column",{attrs:{label:"结果"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(0===t.row.state?"已完成":"未执行")}})]}}])})],1),a("div",{staticClass:"data-count"},[a("span",[e._v("总的号码数："+e._s(e.phonesList.totalSize))]),a("span",[e._v("添加失败的号码数："+e._s(e.phonesList.addFailSize))]),a("span",[e._v("没有用户号码数："+e._s(e.phonesList.notUseSize))])]),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[100,200,300,500],"page-size":e.size,"pager-count":5,layout:"total, sizes, prev, pager, next, jumper",total:e.phonesList.list?e.phonesList.list.length:0},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},n=[],i=(a("4160"),a("fb6a"),a("159b"),a("5530")),r=a("2f62"),l={name:"ToolsSearchPhones",data:function(){return{pageSize:100,pageNo:1,size:100,currentPage:1,phonenumber:"",value1:""}},computed:Object(i["a"])(Object(i["a"])({},Object(r["b"])({phonesList:"nedb/phonesList",wechats:"conversation/wechats"})),{},{tableData:function(){var e=[];this.phonesList.list&&this.phonesList.list.forEach((function(t){e.push(t)})),e.sort((function(e,t){return e.id-t.id}));var t=[],a=this.size;if(e.length>0)for(var s=0;s<e.length;s+=a)t.push(e.slice(s,s+a));return t},wechatsMap:function(){var e={};return this.wechats.forEach((function(t){e[t.WeChatId]=t})),e}}),methods:{handleSizeChange:function(e){this.size!==e&&(this.size=e)},handleCurrentChange:function(e){this.currentPage=e},transformTime:function(e){var t=new Date(e),a=t.getFullYear()+"-",s=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",n=(t.getDate()<10?"0"+t.getDate():t.getDate())+" ",i=(t.getHours()<10?"0"+t.getHours():t.getHours())+":",r=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),l=a+s+n+i+r;return l},searchPhones:function(){var e={phonenumber:this.phonenumber,begin_time:this.value1[0]?this.transformTime(this.value1[0]):"",end_time:this.value1[1]?this.transformTime(this.value1[1]):"",pageNo:this.pageNo,pageSize:this.pageSize};this.$store.dispatch("websocket/GetPhoneNumberList",e)}}},o=l,c=(a("5969"),a("2877")),u=Object(c["a"])(o,s,n,!1,null,"45246be9",null);t["default"]=u.exports},8799:function(e,t,a){"use strict";var s=a("705d"),n=a.n(s);n.a},"8b40":function(e,t,a){"use strict";var s=a("9958"),n=a.n(s);n.a},9958:function(e,t,a){},a16a:function(e,t,a){"use strict";var s=a("4be2"),n=a.n(s);n.a},a548:function(e,t,a){},afc2:function(e,t,a){"use strict";var s=a("d950"),n=a.n(s);n.a},b012:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auto-task scroll"},e._l(e.buttons,(function(t,s){return a("el-row",{key:s,staticClass:"el-button-my"},[a("span",{staticClass:"icon iconfont",class:t.icon}),a("span",{domProps:{textContent:e._s(t.name)}}),a("el-switch",{staticClass:"rt-input",attrs:{"active-color":"#13ce66","inactive-color":"#ff4949",disabled:""},nativeOn:{click:function(a){return e.changeStatus(a,t)}},model:{value:t.switchState,callback:function(a){e.$set(t,"switchState",a)},expression:"btn.switchState"}})],1)})),1)},n=[],i=(a("b0c0"),a("a9e3"),a("5530")),r=a("2f62"),l={name:"ToolsAutoTask",data:function(){return{buttons:[{keyName:1001,icon:"jubo-lucky-money",name:"智能抢红包",switchState:!1},{keyName:1002,icon:"jubo-add-friend",name:"自动通过好友请求",switchState:!1},{keyName:1003,icon:"jubo-accept",name:"自动通过群邀请",switchState:!1},{keyName:1004,icon:"jubo-i-money",name:"自动收转账",switchState:!1}]}},watch:{wechatId:function(e){this.modifyState()},autoTaskConfig:function(e){this.modifyState()}},computed:Object(i["a"])(Object(i["a"])({},Object(r["b"])({currentNavs:"currentNavs",currentWechats:"currentWechats",autoTaskConfig:"nedb/autoTaskConfig"})),{},{wechatId:function(){var e=this.currentNavs[this.$route.name],t=this.currentWechats[e];return t}}),methods:{modifyState:function(){var e=this.autoTaskConfig[this.wechatId];if(e)for(var t=0;t<this.buttons.length;t++){var a=e[this.buttons[t].keyName];"undefined"!==a&&0===a?this.$set(this.buttons[t],"switchState",!0):this.$set(this.buttons[t],"switchState",!1)}else for(var s=0;s<this.buttons.length;s++)this.$set(this.buttons[s],"switchState",!1)},changeStatus:function(e,t){if(this.wechatId){var a={};a.wechatId=this.wechatId,a.type=Number(t.keyName),a.state=t.switchState?1:0,this.$store.dispatch("websocket/AutoTaskUpdate",a)}else this.$message({message:"请先选中微信",type:"warning"})}},created:function(){this.$store.dispatch("websocket/AutoTaskDetailList")},mounted:function(){this.modifyState()}},o=l,c=(a("f4a1"),a("2877")),u=Object(c["a"])(o,s,n,!1,null,"024f8ed8",null);t["default"]=u.exports},b824:function(e){e.exports=JSON.parse('[{"letter":"A","list":["安远","安义","安溪","安丘","安宁","安吉","安福","阿城","安阳","安顺","鞍山","安庆","安康","阿里","阿勒泰","阿拉善盟","阿克苏","阿坝"]},{"letter":"B","list":["北京","博兴","博罗","博爱","璧山","宾阳","宾县","滨海","巴彦","宝应","亳州","博尔塔拉","滨州","毕节","本溪","北海","巴中","巴音郭楞","巴彦淖尔","包头","保山","宝鸡","保定","蚌埠","白银","白山","百色","白城"]},{"letter":"C","list":["成都","常州","长沙","长春","重庆","朝阳","巢湖","长治","昌吉","昌都","常德","沧州","郴州","承德","潮州","滁州","楚雄","崇左","池州","赤峰","枞阳","从化","慈溪","淳安","崇州","崇义","崇仁","茌平","成武","城口","呈贡","潮安","昌邑","长兴","长汀","长泰","常熟","常山","昌乐","长乐","长海","长丰","长岛","曹县","苍山","苍南"]},{"letter":"D","list":["丹东","大理","东莞","大连","大兴安岭","大同","大庆","德州","德阳","德宏","达州","大丰","东营","迪庆","定西","单县","当涂","砀山","岱山","大邑","大田","大埔","丹阳","德化","德安","大足","大余","德庆","德清","登封","德惠","定南","垫江","电白","德兴","东海","东阿","定远","定陶","东台","东山","东平","东明","东源","东阳","东乡","洞头","都江堰","都昌","东至"]},{"letter":"E","list":["鄂尔多斯","恩施","恩平","鄂州"]},{"letter":"F","list":["佛山","福州","防城港","抚顺","阜新","阜阳","抚州","法库","富阳","福清","阜宁","阜南","富民","浮梁","福鼎","福安","佛冈","分宜","凤阳","奉新","丰县","凤台","丰顺","封开","奉节","奉化","丰都","丰城","费县","肥西","肥东","肥城","方正","繁昌"]},{"letter":"G","list":["广州","贵阳","甘南","赣州","甘孜","广安","广元","贵港","桂林","果洛","固原","赣县","赣榆","高安","固镇","古田","贵溪","灌云","冠县","灌南","光泽","广饶","广宁","广丰","广德","广昌","巩义","高州","高邮","高邑","高要","高唐","高青","高密","高陵","皋兰","高淳","藁城"]},{"letter":"H","list":["杭州","哈尔滨","邯郸","海口","黑河","合肥","鹤岗","河池","鹤壁","汉中","哈密","海西","海南","海东","海北","惠州","呼伦贝尔","葫芦岛","呼和浩特","黄石","黄山","黄南","黄冈","淮南","怀化","淮北","淮安","红河","贺州","菏泽","河源","和田地","衡阳","衡水","怀远","怀宁","怀集","桦甸","华安","洪泽","和县","鹤山","和平","横县","横峰","合川","含山","海阳","海盐","海宁","海门","海丰","海安","湖州","户县","霍山","霍邱","呼兰","湖口","惠民","惠来","惠东","会昌","惠安","化州","桓台"]},{"letter":"J","list":["鸡西","酒泉","九江","锦州","晋中","济宁","金华","荆州","荆门","景德镇","晋城","金昌","揭阳","嘉峪关","吉安","江门","佳木斯","济南","吉林","嘉兴","焦作","井冈山","旌德","靖安","即墨","揭西","界首","揭东","嘉祥","嘉善","胶州","胶南","蕉岭","蛟河","吉安","建阳","建瓯","建宁","建湖","江阴","姜堰","江山","将乐","江津","江都","建德","九台","九江","吉水","晋州","金寨","缙云","金乡","金溪","进贤","金堂","金坛","晋宁","金门","晋江","金湖","井陉","泾县","景宁","靖江","巨野","莒县","句容","莒南","鄄城","济源","济阳","绩溪"]},{"letter":"K","list":["昆明","开封","喀什地","克拉玛依","克孜勒","开化","开平","开县","开阳","康平","垦利","昆山"]},{"letter":"L","list":["连云港","凉山","乐山","拉萨","廊坊","莱芜","来宾","洛阳","柳州","兰州","六盘水","六安","丽水","林芝","临沂","临夏","临汾","临沧","丽江","辽源","辽阳","聊城","乐亭","乐清","乐平","乐陵","雷州","乐昌","乐安","兰溪","蓝田","郎溪","莱州","莱阳","莱西","来安","吕梁","泸州","漯河","娄底","龙岩","陇南","临邑","临沭","临朐","临泉","临清","临海","陵县","灵寿","灵璧","临安","利津","黎川","辽中","连州","涟水","连山","连平","连南","廉江","连江","莲花","梁山","梁平","连城","鹿寨","芦溪","禄劝","鹿泉","罗源","洛宁","罗定","庐江","陆河","陆丰","滦县","滦南","栾川","栾城","龙游","龙泉","龙南","龙门","龙口","龙海","龙川","隆安","溧阳","利辛","浏阳","柳江","柳城","溧水"]},{"letter":"M","list":["马鞍山","茂名","眉山","梅州","绵阳","牡丹江","马山","梅县","蒙城","孟津","蒙阴","孟州","明光","明溪","闽侯","闽清","木兰"]},{"letter":"N","list":["南昌","南京","南宁","南通","宁波","南充","南平","南阳","那曲","内江","宁德","怒江","南安","南澳","南城","南川","南丰","南靖","南康","南陵","南雄","宁都","宁国","宁海","宁化","宁津","宁乡","宁阳","农安"]},{"letter":"P","list":["盘锦","攀枝花","平顶山","平凉","萍乡","普洱","莆田","濮阳","磐安","磐石","沛县","蓬莱","彭水","彭泽","彭州","平度","平和","平湖","屏南","平山","平潭","平阳","平阴","平邑","平原","平远","郫县","邳州","鄱阳","浦城","浦江","蒲江","普兰店","普宁"]},{"letter":"Q","list":["青岛","泉州","黔东","黔南","黔西南","庆阳","清远","秦皇岛","钦州","齐齐哈尔","七台河","曲靖","衢州","迁安","潜山","铅山","迁西","启东","齐河","綦江","祁门","清流","青田","清新","青阳","庆元","庆云","清镇","青州","沁阳","邛崃","栖霞","全椒","曲江","曲阜","全南"]},{"letter":"R","list":["日喀则","日照","饶平","仁化","融安","荣昌","荣成","融水","如东","如皋","瑞安","瑞昌","瑞金","乳山","汝阳","乳源"]},{"letter":"S","list":["上海","沈阳","深圳","石家庄","苏州","三门峡","三明","三亚","商丘","商洛","上饶","汕尾","汕头","绍兴","韶关","山南","邵阳","十堰","双鸭山","石嘴山","绥化","松原","四平","朔州","泗阳","泗县","泗水","四会","泗洪","沭阳","顺昌","舒兰","舒城","双流","双城","寿县","寿宁","寿光","石柱","始兴","石台","石狮","石林","石城","射阳","歙县","深泽","莘县","嵊州","嵊泗","沙县","绍兴","邵武","尚志","上虞","上犹","上饶","上林","上栗","商河","上杭","上高","诏安","三门","三江","松阳","嵩县","松溪","嵩明","宿州","宿迁","随州","遂宁","宿松","遂溪","濉溪","睢宁","遂川","遂昌","宿豫"]},{"letter":"T","list":["天津","台州","唐山","塔城地","泰安","太原","泰州","天水","铁岭","铜川","通化","通辽","铜陵","铜仁","通州","桐乡","铜山","潼南","桐庐","铜陵","铜梁","通河","铜鼓","桐城","天台","天长","滕州","唐海","郯城","泰兴","泰顺","台山","泰宁","太湖","泰和","太和","太仓","吐鲁番"]},{"letter":"W","list":["潍坊","威海","武汉","无锡","渭南","文山","温州","乌海","芜湖","乌兰察布","乌鲁木齐","武威","吴忠","武陟","婺源","武夷山","武义","巫溪","无为","巫山","武平","武宁","武鸣","武隆","五莲","吴江","无极","五华","芜湖","五河","无棣","吴川","武城","五常","涡阳","温县","汶上","温岭","翁源","文登","文成","微山","万载","万年","望江","望城","万安","瓦房店","梧州"]},{"letter":"X","list":["厦门","西安","许昌","徐州","襄樊","湘潭","湘西","咸宁","咸阳","孝感","锡林郭勒盟","兴安盟","邢台","西宁","新乡","信阳","新余","忻州","西双版纳","宣城","峡江","夏津","象山","响水","仙居","仙游","萧县","霞浦","息烽","新安","新昌","信丰","新丰","新干","兴国","兴化","兴宁","行唐","荥阳","星子","辛集","新建","新津","新乐","新民","新密","新泰","新兴","新沂","信宜","新郑","休宁","秀山","修水","修文","修武","寻甸","盱眙","徐闻","寻乌"]},{"letter":"Y","list":["扬州","烟台","雅安","延安","延边","盐城","阳江","阳泉","宜宾","宜昌","伊春","宜春","伊犁哈萨克","银川","营口","鹰潭","益阳","永州","岳阳","玉林","榆林","运城","云浮","玉树","玉溪","阳春","阳东","阳谷","阳山","阳信","阳西","扬中","偃师","延寿","兖州","伊川","宜丰","宜黄","依兰","宜良","沂南","英德","颍上","沂水","义乌","黟县","宜兴","弋阳","宜阳","沂源","仪征","永安","永川","永春","永登","永定","永丰","永吉","永嘉","永康","邕宁","永泰","永新","永修","尤溪","酉阳","元氏","禹城","于都","岳西","余干","玉环","余江","郁南","云安","郓城","云和","云霄","云阳","玉山","榆树","鱼台","玉田","余姚","榆中"]},{"letter":"Z","list":["漳州","遵化","郑州","中山","珠海","枣庄","张家界","张家口","张掖","湛江","肇庆","昭通","镇江","中卫","周口","舟山","驻马店","株洲","淄博","自贡","资阳","遵义","赞皇","增城","张家港","漳平","漳浦","章丘","樟树","沾化","赵县","招远","正定","政和","柘荣","中牟","忠县","周宁","周至","庄河","诸城","诸暨","紫金","资溪","邹城","邹平"]}]')},c0a7:function(e,t,a){},cca2:function(e,t,a){},d49b:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"friends-filter"},[a("div",{staticClass:"search-condition"},[a("el-input",{attrs:{placeholder:"请输入微信号",maxlength:"20","show-word-limit":"",clearable:""},model:{value:e.wechatNo,callback:function(t){e.wechatNo=t},expression:"wechatNo"}},[a("template",{slot:"prepend"},[e._v("微信号:")])],2),a("el-input",{attrs:{placeholder:"请输入微信昵称",maxlength:"15","show-word-limit":"",clearable:""},model:{value:e.wechatNick,callback:function(t){e.wechatNick=t},expression:"wechatNick"}},[a("template",{slot:"prepend"},[e._v("昵称:")])],2),a("el-input",{attrs:{placeholder:"请输入微信备注",maxlength:"25","show-word-limit":"",clearable:""},model:{value:e.wechatMemo,callback:function(t){e.wechatMemo=t},expression:"wechatMemo"}},[a("template",{slot:"prepend"},[e._v("备注:")])],2),a("el-button",{on:{click:e.screenFriends}},[e._v("筛选")])],1),a("div",{staticClass:"friends-list"},[a("el-table",{attrs:{data:e.tableData[e.currentPage-1],stripe:"",border:"","highlight-current-row":"",height:"100%"}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",width:"60px"}}),a("el-table-column",{attrs:{label:"所属微信"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.wechatsMap[t.row.WeChatId]?e.wechatsMap[t.row.WeChatId].WeChatNick:t.row.WeChatId)}})]}}])}),a("el-table-column",{attrs:{label:"微信号",prop:"FriendNo"}}),a("el-table-column",{attrs:{label:"昵称",prop:"FriendNick"}}),a("el-table-column",{attrs:{label:"头像",width:"81px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"60px",height:"60px"},attrs:{src:e.row.Avatar}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"50px"}})])])]}}])}),a("el-table-column",{attrs:{label:"备注名",prop:"Memo"}}),a("el-table-column",{attrs:{label:"性别",prop:"Gender",width:"80px"}}),a("el-table-column",{attrs:{label:"省市",prop:"Province"}}),a("el-table-column",{attrs:{label:"城市",prop:"City"}}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"5px"},attrs:{type:"warning",size:"small"},on:{click:function(a){return e.handleClick(t.row)}}},[a("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"16px"}})])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[15,30,45,60],"page-size":e.pageSize,"pager-count":5,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},n=[],i=(a("4de4"),a("c975"),a("d81d"),a("fb6a"),a("a434"),a("b85c")),r=a("5530"),l=a("2f62"),o=(a("b824"),{name:"GroupAssistantSend",data:function(){return{wechatNo:"",wechatNick:"",wechatMemo:"",pageSize:15,currentPage:1}},computed:Object(r["a"])(Object(r["a"])({},Object(l["b"])({wechats:"conversation/wechats",searchResults:"nedb/searchResults"})),{},{totalNum:function(){return this.searchResults.length},tableData:function(){for(var e=this.pageSize,t=[],a=0;a<this.searchResults.length;a+=e)t.push(this.searchResults.slice(a,a+e));return t},wechatsMap:function(){var e,t={},a=Object(i["a"])(this.wechats);try{for(a.s();!(e=a.n()).done;){var s=e.value;t[s.WeChatId]=s}}catch(n){a.e(n)}finally{a.f()}return t}}),methods:{screenFriends:function(){var e={};this.wechatNo&&(e.FriendNo=this.wechatNo),this.wechatMemo&&(e.Memo=this.wechatMemo),this.wechatNick&&(e.FriendNick=this.wechatNick),this.$store.dispatch("nedb/FindFriendsByConditions",e)},handleClick:function(e){this.$message.info("待实现")},indexMethod:function(e){return e+1},choseRow:function(e){var t=e.FriendId,a=this.friends2send.indexOf(t);a>=0?this.friends2send.splice(a,1):this.friends2send.push(t)},computedCheckState:function(e){return this.friends2send.indexOf(e.FriendId)>=0},choseAllOfPage:function(){var e=this.tableData[this.currentPage-1],t=e.map((function(e){return e.FriendId})),a=this.friends2send.filter((function(e){return t.indexOf(e)>-1}));if(a.length===t.length){var s,n=Object(i["a"])(e);try{for(n.s();!(s=n.n()).done;){var r=s.value,l=r.FriendId,o=this.friends2send.indexOf(l);this.friends2send.splice(o,1)}}catch(m){n.e(m)}finally{n.f()}}else{var c,u=Object(i["a"])(e);try{for(u.s();!(c=u.n()).done;){var d=c.value,h=d.FriendId,p=this.friends2send.indexOf(h);p<0&&this.friends2send.push(h)}}catch(m){u.e(m)}finally{u.f()}}},handleSizeChange:function(e){this.pageSize!==e&&(this.pageSize=e)},handleCurrentChange:function(e){this.currentPage=e},resetForm:function(e){"Link"===e?this.$refs["linkDialog"].resetFields():this.$refs["weappDialog"].resetFields()}}}),c=o,u=(a("f010"),a("2877")),d=Object(u["a"])(c,s,n,!1,null,"7b5ab0c3",null);t["default"]=d.exports},d950:function(e,t,a){},e8fa:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auto-reply"},[a("el-form",{ref:"addReplyRef",staticClass:"el-form-my",attrs:{size:"mini","label-width":"100px",rules:e.rules,model:e.form}},[a("el-form-item",{staticClass:"el-form-item-my",attrs:{label:"关键词：",prop:"keyWord"}},[a("el-input",{attrs:{maxlength:"20","show-word-limit":"",clearable:"",placeholder:"输入关键词"},model:{value:e.form.keyWord,callback:function(t){e.$set(e.form,"keyWord",t)},expression:"form.keyWord"}})],1),a("el-form-item",{staticClass:"el-form-item-my",attrs:{label:"回复内容：",prop:"replyMsg"}},[a("el-input",{attrs:{type:"textarea",maxlength:"500",autosize:{minRows:4,maxRows:4},resize:"none","show-word-limit":"",clearable:"",placeholder:"回复内容不能为空"},model:{value:e.form.replyMsg,callback:function(t){e.$set(e.form,"replyMsg",t)},expression:"form.replyMsg"}})],1),a("el-form-item",{staticClass:"add-btn",attrs:{size:"medium"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit()}}},[e._v("立即添加")])],1)],1),a("el-table",{staticClass:"table-data",staticStyle:{width:"100%"},attrs:{data:e.autoReply,stripe:"",border:"",height:"60"}},[a("el-table-column",{attrs:{label:"关键词",prop:"keyWord"}}),a("el-table-column",{attrs:{label:"回复内容",prop:"replyMsg"}}),a("el-table-column",{attrs:{label:"消息类型",prop:"msgType",width:"120px"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return e.updateReply(t)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return e.deleteReply(t)}}},[e._v("删除")])]}}])})],1)],1)},n=[],i=a("5530"),r=a("2f62"),l={name:"ToolsAutoReply",data:function(){return{form:{keyWord:"",replyMsg:"",msgType:"Text"},rules:{keyWord:[{required:!0,message:"请输入关键词",trigger:"blur"}],replyMsg:[{required:!0,message:"请输入回复的话术",trigger:"blur"}]}}},computed:Object(i["a"])({},Object(r["b"])({userId:"userId",autoReply:"nedb/autoReply"})),methods:{onSubmit:function(){var e=this;this.$refs["addReplyRef"].validate((function(t){if(!t)return e.$message({message:"请检查表单！",type:"error"}),!1;e.$store.dispatch("nedb/UpdateOrAddAutoReply",e.form)}))},resetForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"addReplyRef";this.$refs[e].resetFields()},deleteReply:function(e){var t=this;this.$confirm("确定删除 ?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$store.dispatch("nedb/DeleteAutoReply",e.row)})).catch((function(){return!1}))},updateReply:function(e){for(var t in this.form)this.$set(this.form,t,e.row[t])}},created:function(){}},o=l,c=(a("a16a"),a("2877")),u=Object(c["a"])(o,s,n,!1,null,"22f00ef5",null);t["default"]=u.exports},ed75:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticClass:"table-data",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"",height:"60"}},[a("el-table-column",{attrs:{prop:"FriendNick",label:"昵称","min-width":"160px"}}),a("el-table-column",{attrs:{label:"头像",width:"121px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"60px",height:"60px"},attrs:{src:e.row.Avatar}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"50px"}})])])]}}])}),a("el-table-column",{attrs:{prop:"Gender",width:"80px",label:"性别"}}),a("el-table-column",{attrs:{label:"来源"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.Source?a("div",{domProps:{textContent:e._s(e.$options.filters.getFriendSource(t.row.Source))}}):e._e()]}}])}),a("el-table-column",{attrs:{label:"地区",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.Province))]),a("p",[e._v(e._s(t.row.City))])]}}])}),a("el-table-column",{attrs:{prop:"Reason",label:"验证语","min-width":"200px"}}),a("el-table-column",{attrs:{label:"时间",width:"160px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.$options.filters.timeFilter(t.row.ReqTime))}})]}}])}),a("el-table-column",{attrs:{prop:"address",label:"操作","min-width":"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.State?a("el-button",{attrs:{type:"info",size:"mini"}},[e._v("已添加")]):e.timeNow-t.row.ReqTime>=2592e5?a("el-button",{attrs:{type:"info",size:"mini"}},[e._v("已过期")]):a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.acceptRequest(t.$index,t.row)}}},[e._v("接受")])]}}])})],1)},n=[],i={name:"ToolsNewFriend",data:function(){return{timeNow:(new Date).getTime()}},computed:{tableData:function(){return this.$store.getters["nedb/newFriends"]}},methods:{acceptRequest:function(e,t){var a=this;this.$prompt("设置备注(非必需)","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^.{0,50}$/,inputErrorMessage:"备注超过50个字符"}).then((function(e){var s=e.value;t.Remark=s,a.$store.dispatch("websocket/AcceptFriendAddRequestTask",t)})).catch((function(){a.$message.info("取消任务！")}))}}},r=i,l=(a("8b40"),a("2877")),o=Object(l["a"])(r,s,n,!1,null,"70277ec9",null);t["default"]=o.exports},f010:function(e,t,a){"use strict";var s=a("a548"),n=a.n(s);n.a},f402:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"group-assistant-send"},[a("el-steps",{staticClass:"group-send-steps",attrs:{"align-center":"",active:e.currentStep,"process-status":e.currentStepStatus,"finish-status":"success"}},[a("el-step",{attrs:{title:"选择好友",icon:"el-icon-s-check"}}),a("el-step",{attrs:{title:"设置标签",icon:"el-icon-edit"}})],1),a("div",{staticClass:"group-send-content"},[0===e.currentStep?a("div",{staticClass:"chose-friend"},[a("div",{staticClass:"chose-friend-left"},[a("el-tabs",{staticClass:"scroll can-not-select",attrs:{type:"border-card"},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[a("el-tab-pane",{attrs:{label:"选择好友批量打标签",name:"choseFriends"}},[a("div",{staticClass:"el-tab-pane-item"},[a("span",{staticClass:"el-tab-pane-item-title"},[e._v("所在微信")]),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.queryInfoByWechatId},model:{value:e.wechat2send,callback:function(t){e.wechat2send=t},expression:"wechat2send"}},e._l(e.wechats,(function(e,t){return a("el-option",{key:t,attrs:{label:e.WeChatNick,value:e.WeChatId,disabled:!e.IsOnline||!e.IsLogined}})})),1)],1),a("div",{staticClass:"el-tab-pane-item"},[a("span",{staticClass:"el-tab-pane-item-title"},[e._v("所在分组")]),a("el-select",{attrs:{clearable:"",placeholder:"请选择",disabled:""},model:{value:e.team2screen,callback:function(t){e.team2screen=t},expression:"team2screen"}})],1),a("div",{staticClass:"el-tab-pane-item"},[a("span",{staticClass:"el-tab-pane-item-title"},[e._v("性别")]),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.gender2screen,callback:function(t){e.gender2screen=t},expression:"gender2screen"}},e._l(e.gender,(function(e,t){return a("el-option",{key:"gender"+t,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticClass:"el-tab-pane-item"},[a("span",{staticClass:"el-tab-pane-item-title"},[e._v("状态")]),a("el-select",{attrs:{clearable:"",placeholder:"请选择",disabled:""},model:{value:e.state2screen,callback:function(t){e.state2screen=t},expression:"state2screen"}})],1),a("div",{staticClass:"el-tab-pane-item"},[a("span",{staticClass:"el-tab-pane-item-title"},[e._v("标签")]),a("el-radio-group",{model:{value:e.lableRadio,callback:function(t){e.lableRadio=t},expression:"lableRadio"}},[a("el-radio",{attrs:{label:"inclusion"}},[e._v("包含")]),a("el-radio",{attrs:{label:"exclude"}},[e._v("不包含")])],1)],1),a("div",{staticClass:"el-tab-pane-item"},[a("span",{staticClass:"el-tab-pane-item-title"}),a("el-select",{attrs:{multiple:"",filterable:"",placeholder:e.wechat2send?"请选择":"请先选择微信",disabled:!e.wechat2send,"collapse-tags":""},model:{value:e.labels2screen,callback:function(t){e.labels2screen=t},expression:"labels2screen"}},e._l(e.groupSendLabels,(function(e,t){return a("el-option",{key:"label"+t,attrs:{label:e.LabelName,value:e.LabelId}})})),1)],1),a("div",{staticClass:"el-tab-pane-item"},[a("span",{staticClass:"el-tab-pane-item-title"},[e._v("城市")]),a("el-radio-group",{model:{value:e.cityRadio,callback:function(t){e.cityRadio=t},expression:"cityRadio"}},[a("el-radio",{attrs:{label:"inclusion"}},[e._v("包含")]),a("el-radio",{attrs:{label:"exclude"}},[e._v("不包含")])],1)],1),a("div",{staticClass:"el-tab-pane-item"},[a("span",{staticClass:"el-tab-pane-item-title"}),a("el-cascader",{attrs:{options:e.chineseCities,props:{expandTrigger:"hover",multiple:!0},"show-all-levels":!1,filterable:"","collapse-tags":""},on:{change:e.handleCityChange},model:{value:e.cities,callback:function(t){e.cities=t},expression:"cities"}})],1),a("div",{staticClass:"el-tab-pane-item"},[a("span",{staticClass:"el-tab-pane-item-title"}),a("el-button",{on:{click:e.screenFriends}},[e._v("筛选")]),a("el-button",{on:{click:e.resetFilter}},[e._v("重置")])],1)]),a("el-tab-pane",{attrs:{label:"选择群并分组",disabled:"",name:"choseRooms"}},[a("div",{staticClass:"el-tab-pane-item"},[a("span",{staticClass:"el-tab-pane-item-title"},[e._v("所在微信")]),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.queryInfoByWechatId},model:{value:e.wechat2send2room,callback:function(t){e.wechat2send2room=t},expression:"wechat2send2room"}},e._l(e.wechats,(function(e,t){return a("el-option",{key:t,attrs:{label:e.WeChatNick,value:e.WeChatId,disabled:!e.IsOnline||!e.IsLogined}})})),1)],1),a("div",{staticClass:"el-tab-pane-item"},[a("span",{staticClass:"el-tab-pane-item-title"},[e._v("群名称")]),a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.room2screen,callback:function(t){e.room2screen=t},expression:"room2screen"}})],1),a("div",{staticClass:"el-tab-pane-item"},[a("span",{staticClass:"el-tab-pane-item-title"}),a("el-button",{on:{click:e.screenRooms}},[e._v("筛选")]),a("el-button",{on:{click:e.resetFilter}},[e._v("重置")])],1)])],1)],1),a("div",{staticClass:"chose-friend-right"},[a("div",{staticClass:"friends-list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData[e.currentPage[e.activeTabName]-1],stripe:"",border:"",height:"60","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",width:"60px"}}),a("el-table-column",{attrs:{label:"昵称",prop:"choseFriends"===e.activeTabName?"FriendNick":"NickName"}}),"choseFriends"===e.activeTabName?a("el-table-column",{attrs:{label:"备注名",prop:"Memo"}}):e._e(),"choseFriends"===e.activeTabName?a("el-table-column",{attrs:{label:"性别",prop:"Gender",width:"80px"}}):e._e(),"choseFriends"===e.activeTabName?a("el-table-column",{attrs:{label:"城市",prop:"City"}}):e._e(),"choseRooms"===e.activeTabName?a("el-table-column",{attrs:{label:"群成员人数",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return["choseRooms"===e.activeTabName?a("span",{domProps:{textContent:e._s(t.row.MemberList.length)}}):e._e()]}}],null,!1,3735638004)}):e._e(),a("el-table-column",{attrs:{width:"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{attrs:{type:"checkbox"},domProps:{checked:e.computedCheckState(t.row)},on:{click:function(a){return e.choseRow(t.row)}}})]}}],null,!1,2316015403)},[a("template",{slot:"header"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.choseAllOfPage}},[e._v("全选本页")])],1)],2)],1),a("el-pagination",{attrs:{"current-page":e.currentPage[e.activeTabName],"page-sizes":[5,10,15,20],"page-size":e.pageSize,"pager-count":5,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])]):1===e.currentStep?a("div",{staticClass:"set-label"},[a("div",{staticClass:"set-label-item"},[a("span",{staticClass:"set-label-item-title"},[e._v("标签名")]),a("el-select",{attrs:{filterable:"",placeholder:e.wechat2send?"选择或者输入标签名":"请先选择微信",disabled:!e.wechat2send,"allow-create":"","default-first-option":""},model:{value:e.labelId,callback:function(t){e.labelId=t},expression:"labelId"}},e._l(e.groupSendLabels,(function(e,t){return a("el-option",{key:"label"+t,attrs:{label:e.LabelName,value:e.LabelId}})})),1)],1)]):e._e()]),a("div",{staticClass:"group-send-operation"},[e.currentStep>0?a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-arrow-left"},on:{click:function(t){e.currentStep=0}}},[e._v("上一步")]):e._e(),0===e.currentStep?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.sendNext("all")}}},[e._v("给所有筛选结果打标签")]):e._e(),0===e.currentStep?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.sendNext("check")}}},[e._v("给选中的好友打标签")]):e._e(),1===e.currentStep?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.sureSend}},[e._v("确认发送")]):e._e()],1)],1)},n=[],i=(a("4de4"),a("c975"),a("a15b"),a("d81d"),a("fb6a"),a("a434"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("1276"),a("b85c")),r=a("5530"),l=a("2f62"),o=a("b824"),c={name:"GroupAssistantSend",data:function(){return{activeTabName:"choseFriends",pageSize:5,currentPage:{choseFriends:1,choseRooms:1},labelId:"",wechat2send:"",friends2send:[],team2screen:"",state2screen:"",gender2screen:"",lableRadio:"inclusion",labels2screen:[],cities:[],city2screen:[],wechat2send2room:"",rooms2send:[],room2screen:"",currentStep:0,currentStepStatus:"process",cityRadio:"inclusion",tableDataFriends:[],totalFriends:0,tableDataRooms:[],totalRooms:0,gender:[{value:"Male",label:"男"},{value:"Female",label:"女"}],ids2send:[]}},computed:Object(r["a"])(Object(r["a"])({},Object(l["b"])({wechats:"conversation/wechats",groupSendRooms:"nedb/groupSendRooms",groupSendLabels:"nedb/groupSendLabels",groupSendFriends:"nedb/groupSendFriends"})),{},{chineseCities:function(){var e,t=[],a=Object(i["a"])(o);try{for(a.s();!(e=a.n()).done;){var s,n=e.value,r=[],l=Object(i["a"])(n.list);try{for(l.s();!(s=l.n()).done;){var c=s.value;r.push({value:c,label:c})}}catch(u){l.e(u)}finally{l.f()}t.push({value:n.letter,label:n.letter,children:r})}}catch(u){a.e(u)}finally{a.f()}return t},totalNum:function(){return"choseFriends"===this.activeTabName?this.totalFriends:"choseRooms"===this.activeTabName?this.totalRooms:0},tableData:function(){var e=this.pageSize,t=[];if("choseFriends"===this.activeTabName)for(var a=0;a<this.tableDataFriends.length;a+=e)t.push(this.tableDataFriends.slice(a,a+e));else for(var s=0;s<this.tableDataRooms.length;s+=e)t.push(this.tableDataRooms.slice(s,s+e));return t}}),methods:{queryInfoByWechatId:function(){"choseFriends"===this.activeTabName&&this.wechat2send?(this.tableDataFriends=[],this.$store.dispatch("nedb/SetGroupSendLabels",this.wechat2send),this.$store.dispatch("nedb/SetGroupSendFriends",this.wechat2send)):"choseRooms"===this.activeTabName&&this.wechat2send2room&&(this.tableDataRooms=[],this.$store.dispatch("nedb/SetGroupSendRooms",this.wechat2send2room))},handleCityChange:function(e){if(0!==e.length){var t,a=[],s=Object(i["a"])(e);try{for(s.s();!(t=s.n()).done;){var n=t.value;a.push(n[1])}}catch(r){s.e(r)}finally{s.f()}this.city2screen=a}},screenFriends:function(){var e=this;if(this.wechat2send){var t,a=[],s=Object(i["a"])(this.groupSendFriends);try{for(s.s();!(t=s.n()).done;){var n=t.value;a.push(n)}}catch(f){s.e(f)}finally{s.f()}if(this.gender2screen&&(a=a.filter((function(t,a,s){return t.Gender===e.gender2screen}))),this.labels2screen.length>0){var r,l=[],o=Object(i["a"])(a);try{var c=function(){var t=r.value,a=[];t.LabelIds&&(a=t.LabelIds.replace('"',"[").replace('"',"]").split(","));var s=e.labels2screen.filter((function(e){return a.indexOf(e.toString())>-1}));("inclusion"===e.lableRadio&&s.length>0||"exclude"===e.lableRadio&&0===s.length)&&l.push(t)};for(o.s();!(r=o.n()).done;)c()}catch(f){o.e(f)}finally{o.f()}a=l}if(this.city2screen.length>0){var u,d=[],h=Object(i["a"])(a);try{for(h.s();!(u=h.n()).done;){var p=u.value,m=p.City?p.City:"";("inclusion"===this.cityRadio&&this.city2screen.indexOf(m)>-1||"exclude"===this.cityRadio&&-1===this.city2screen.indexOf(m))&&d.push(p)}}catch(f){h.e(f)}finally{h.f()}a=d}this.totalFriends=a.length,this.tableDataFriends=a}else this.$message.warning("请选择微信！")},screenRooms:function(){if(this.wechat2send2room){var e,t=[],a=Object(i["a"])(this.groupSendRooms);try{for(a.s();!(e=a.n()).done;){var s=e.value;t.push(s)}}catch(c){a.e(c)}finally{a.f()}if(this.room2screen){var n,r=[],l=Object(i["a"])(t);try{for(l.s();!(n=l.n()).done;){var o=n.value;o.NickName.indexOf(this.room2screen)>-1&&r.push(o)}}catch(c){l.e(c)}finally{l.f()}t=r}this.totalRooms=t.length,this.tableDataRooms=t}else this.$message.warning("请选择微信！")},resetFilter:function(){"choseFriends"===this.activeTabName?(this.wechat2send="",this.gender2screen="",this.lableRadio="inclusion",this.labels2screen=[],this.cities=[],this.cityRadio="inclusion",this.city2screen=[],this.tableDataFriends=[]):(this.wechat2send2room="",this.room2screen="",this.tableDataRooms=[])},indexMethod:function(e){return e+1},choseRow:function(e){if("choseFriends"===this.activeTabName){var t=e.FriendId,a=this.friends2send.indexOf(t);a>=0?this.friends2send.splice(a,1):this.friends2send.push(t)}else{var s=e.UserName,n=this.rooms2send.indexOf(s);n>=0?this.rooms2send.splice(n,1):this.rooms2send.push(s)}},computedCheckState:function(e){return"choseFriends"===this.activeTabName?this.friends2send.indexOf(e.FriendId)>=0:this.rooms2send.indexOf(e.UserName)>=0},choseAllOfPage:function(){var e=this.tableData[this.currentPage[this.activeTabName]-1];if("choseFriends"===this.activeTabName){var t=e.map((function(e){return e.FriendId})),a=this.friends2send.filter((function(e){return t.indexOf(e)>-1}));if(a.length===t.length){var s,n=Object(i["a"])(e);try{for(n.s();!(s=n.n()).done;){var r=s.value,l=r.FriendId,o=this.friends2send.indexOf(l);this.friends2send.splice(o,1)}}catch(F){n.e(F)}finally{n.f()}}else{var c,u=Object(i["a"])(e);try{for(u.s();!(c=u.n()).done;){var d=c.value,h=d.FriendId,p=this.friends2send.indexOf(h);p<0&&this.friends2send.push(h)}}catch(F){u.e(F)}finally{u.f()}}}else{var m=e.map((function(e){return e.UserName})),f=this.rooms2send.filter((function(e){return m.indexOf(e)>-1}));if(f.length===m.length){var b,g=Object(i["a"])(e);try{for(g.s();!(b=g.n()).done;){var v=b.value,w=v.UserName,y=this.rooms2send.indexOf(w);this.rooms2send.splice(y,1)}}catch(F){g.e(F)}finally{g.f()}}else{var C,k=Object(i["a"])(e);try{for(k.s();!(C=k.n()).done;){var x=C.value,_=x.UserName,S=this.rooms2send.indexOf(_);S<0&&this.rooms2send.push(_)}}catch(F){k.e(F)}finally{k.f()}}}},handleSizeChange:function(e){this.pageSize!==e&&(this.pageSize=e)},handleCurrentChange:function(e){this.currentPage[this.activeTabName]=e},resetForm:function(e){"Link"===e?this.$refs["linkDialog"].resetFields():this.$refs["weappDialog"].resetFields()},sendNext:function(e){var t=[];t="all"===e?"choseFriends"===this.activeTabName?this.tableDataFriends.map((function(e){return e.FriendId})):this.tableDataRooms.map((function(e){return e.UserName})):"choseFriends"===this.activeTabName?this.friends2send:this.rooms2send,t.length>0?(this.ids2send=t,this.currentStep=1):this.$message.warning("请先选择要发送的好友！")},sureSend:function(){var e,t={},a=Object(i["a"])(this.groupSendLabels);try{for(a.s();!(e=a.n()).done;){var s=e.value;t[s.LabelId]=s.LabelName}}catch(r){a.e(r)}finally{a.f()}var n={WeChatId:this.wechat2send,AddList:this.ids2send.join(","),LabelId:t[this.labelId]?this.labelId:0,LabelName:t[this.labelId]?t[this.labelId]:this.labelId};n.LabelName?(this.$store.dispatch("websocket/ContactLabelTask",n),this.$message.success("群发好友任务,已经下发!"),this.labelId=""):this.$message.warning("请先设置标签！")}}},u=c,d=(a("7b27"),a("2877")),h=Object(d["a"])(u,s,n,!1,null,"4385101a",null);t["default"]=h.exports},f4a1:function(e,t,a){"use strict";var s=a("7835"),n=a.n(s);n.a},fed8:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-friend"},[a("el-form",{ref:"addFriendFormRef",staticClass:"add-form demo-ruleForm",attrs:{size:"mini","label-width":"100px",rules:e.rules,model:e.addFriendForm}},[a("el-form-item",{staticClass:"add-item",attrs:{label:"输入号码：",prop:"number"}},[a("el-input",{attrs:{maxlength:"20",clearable:"",placeholder:"微信号/QQ号/手机号"},model:{value:e.addFriendForm.number,callback:function(t){e.$set(e.addFriendForm,"number",t)},expression:"addFriendForm.number"}})],1),a("el-form-item",{staticClass:"add-item",attrs:{label:"验证消息："}},[a("el-input",{attrs:{maxlength:"50",clearable:"",placeholder:"选填"},model:{value:e.addFriendForm.message,callback:function(t){e.$set(e.addFriendForm,"message",t)},expression:"addFriendForm.message"}})],1),a("el-form-item",{staticClass:"add-item",attrs:{label:"设置备注："}},[a("el-input",{attrs:{maxlength:"50",clearable:"",placeholder:"选填"},model:{value:e.addFriendForm.memo,callback:function(t){e.$set(e.addFriendForm,"memo",t)},expression:"addFriendForm.memo"}})],1),a("el-form-item",{staticClass:"add-btn",attrs:{size:"medium"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即添加")])],1)],1),a("el-table",{staticClass:"table-data",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"",height:"60"}},[a("el-table-column",{attrs:{label:"输入号码",prop:"Phones"}}),a("el-table-column",{attrs:{label:"验证消息",prop:"message"}}),a("el-table-column",{attrs:{label:"备注名",prop:"Remark"}}),a("el-table-column",{attrs:{label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.$options.filters.timeFilter(t.row.TaskId))}})]}}])}),a("el-table-column",{attrs:{label:"结果",prop:"result"}})],1)],1)},n=[],i=(a("b0c0"),{name:"ToolsAddFriend",data:function(){return{addFriendForm:{number:"",message:"",memo:""},rules:{number:[{required:!0,message:"请输入微信号/QQ号/手机号",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}]},taskHistory:this.$store.getters["nedb/addFriends"]}},computed:{tableData:function(){return this.$store.getters["nedb/addFriends"]}},filters:{timeFilter:function(e){return e=parseInt(e/1e4),new Date(e).toLocaleString()}},methods:{onSubmit:function(){var e=this,t=this.$store.getters["currentNavs"],a=this.$store.getters["currentWechats"],s=a[t[this.$route.name]];if(s){var n=[];this.$refs["addFriendFormRef"].validate((function(t){if(!t)return e.$message({message:"请检查输入号码！",type:"error"}),!1;n.push(e.addFriendForm.number),e.addFriendForm.taskId=1e4*(new Date).getTime()+parseInt(1e4*Math.random()),e.addFriendForm.wechatId=s,e.addFriendForm.phones=n,e.$store.dispatch("websocket/AddFriendsTask",e.addFriendForm),e.resetForm()}))}else this.$message({message:"请先选择微信！",type:"warning"})},resetForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"addFriendFormRef";this.$refs[e].resetFields()}}}),r=i,l=(a("afc2"),a("2877")),o=Object(l["a"])(r,s,n,!1,null,"3d2e3fca",null);t["default"]=o.exports}}]);